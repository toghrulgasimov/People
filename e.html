<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="/com.family.familyprotector.png" />

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js" crossorigin="anonymous"></script>
    <!--    <script src="https://code.angularjs.org/1.2.22/angular-cookies.min.js"></script>-->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-cookies.min.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <style>
        table{
            overflow-y:scroll;
            height:100px;
            display:block;
        }
    </style>
</head>



<body style="background-color: aliceblue; box-shadow: 0 1px 27px darkslategrey;" ng-app="app" ng-controller="myCtrl">





<script>
    angular.module("app", ['ngCookies']).controller("myCtrl", function($scope, $http, $interval, $window,$cookies) {
        //$scope.message="Hello World";
        let rayonlar = {}
        rayonlar["1"]="SERUR-SEDEREK"
        rayonlar["2"]="SERUR"
        rayonlar["3"]="BABEK-KENGERLI-NAXCIVAN"
        rayonlar["4"]="NAXCIVAN SEHER"
        rayonlar["5"]="SAHBUZ-BABEK"
        rayonlar["6"]="CULFA-BABEK"
        rayonlar["7"]="ORDUBAD-CULFA"
        rayonlar["8"]="BINEQEDI"
        rayonlar["9"]="BINEQEDI"
        rayonlar["10"]="BINEQEDI"
        rayonlar["11"]="QARADAG"
        rayonlar["12"]="QARADAG-BINEQEDI-YASAMAL"
        rayonlar["13"]="XEZER-PIRALLAHI"
        rayonlar["14"]="XEZER"
        rayonlar["15"]="YASAMAL"
        rayonlar["16"]="YASAMAL"
        rayonlar["17"]="YASAMAL"
        rayonlar["18"]="NERIMANOV-NIZAMI"
        rayonlar["19"]="NERIMANOV"
        rayonlar["20"]="NERIMANOV"
        rayonlar["21"]="NESIMI"
        rayonlar["22"]="NESIMI"
        rayonlar["23"]="NESIMI-SEBAIL"
        rayonlar["24"]="NIZAMI"
        rayonlar["25"]="NIZAMI"
        rayonlar["26"]="SABUNCU"
        rayonlar["27"]="SABUNCU"
        rayonlar["28"]="SABUNCU"
        rayonlar["29"]="SEBAIL"
        rayonlar["30"]="SURAXANI"
        rayonlar["31"]="SURAXANI"
        rayonlar["32"]="SURAXANI"
        rayonlar["33"]="XETAI"
        rayonlar["34"]="XETAI"
        rayonlar["35"]="XETAI"
        rayonlar["36"]="XETAI"
        rayonlar["37"]="NIZAMI (GENCE)"
        rayonlar["38"]="NIZAMI (GENCE)"
        rayonlar["39"]="KEPEZ (GENCE)"
        rayonlar["40"]="KEPEZ (GENCE)"
        rayonlar["41"]="SUMQAYIT"
        rayonlar["42"]="SUMQAYIT"
        rayonlar["43"]="SUMQAYIT"
        rayonlar["44"]="SUMQAYIT-XIZI"
        rayonlar["45"]="ABSERON"
        rayonlar["46"]="SIRVAN"
        rayonlar["47"]="MINGECEVIR"
        rayonlar["48"]="YEVLAX"
        rayonlar["49"]="YEVLAX-MINGECEVIR"
        rayonlar["50"]="ABSERON-QOBUSTAN"
        rayonlar["51"]="QUSAR"
        rayonlar["52"]="QUBA"
        rayonlar["53"]="QUBA-QUSAR"
        rayonlar["54"]="SABRAN-SIYEZEN"
        rayonlar["55"]="XACMAZ SEHER"
        rayonlar["56"]="XACMAZ KEND"
        rayonlar["57"]="KURDEMIR"
        rayonlar["58"]="HACIQABUL-KURDEMIR"
        rayonlar["59"]="SALYAN"
        rayonlar["60"]="SALYAN-NEFTCALA"
        rayonlar["61"]="NEFTCALA"
        rayonlar["62"]="SAATLI"
        rayonlar["63"]="SABIRABAD"
        rayonlar["64"]="SABIRABAD"
        rayonlar["65"]="SAATLI-SABIRABAD-KURDEMIR"
        rayonlar["66"]="BILESUVAR"
        rayonlar["67"]="CELILABAD SEHER"
        rayonlar["68"]="CELILABAD KEND"
        rayonlar["69"]="CELILABAD-MASALLI-BILESUVAR"
        rayonlar["70"]="MASALLI SEHER"
        rayonlar["71"]="MASALLI KEND"
        rayonlar["72"]="YARDIMLI-MASALLI"
        rayonlar["73"]="LENKERAN SEHER"
        rayonlar["74"]="LENKERAN KEND"
        rayonlar["75"]="LENKERAN-MASALLI"
        rayonlar["76"]="LENKERAN-ASTARA"
        rayonlar["77"]="ASTARA"
        rayonlar["78"]="LERIK"
        rayonlar["79"]="IMISLI"
        rayonlar["80"]="IMISLI-BEYLEQAN"
        rayonlar["81"]="BEYLEQAN"
        rayonlar["82"]="AGCABEDI"
        rayonlar["83"]="AGCABEDI-FUZULI"
        rayonlar["84"]="FUZULI"
        rayonlar["85"]="SAMAXI"
        rayonlar["86"]="ISMAYILLI"
        rayonlar["87"]="AGSU-ISMAYILLI"
        rayonlar["88"]="GOYCAY"
        rayonlar["89"]="GOYCAY-AGDAS"
        rayonlar["90"]="AGDAS"
        rayonlar["91"]="UCAR"
        rayonlar["92"]="ZERDAB-UCAR"
        rayonlar["93"]="BERDE SEHER"
        rayonlar["94"]="BERDE KEND"
        rayonlar["95"]="TERTER"
        rayonlar["96"]="GORANBOY-NAFTALAN"
        rayonlar["97"]="GORANBOY-AGDAM-TERTER"
        rayonlar["98"]="SEMKIR SEHER"
        rayonlar["99"]="SEMKIR KEND"
        rayonlar["100"]="SEMKIR-DASKESEN"
        rayonlar["101"]="GOYGOL-DASKESEN"
        rayonlar["102"]="SAMUX-SEMKIR"
        rayonlar["103"]="GEDEBEY"
        rayonlar["104"]="GEDEBEY-TOVUZ"
        rayonlar["105"]="TOVUZ"
        rayonlar["106"]="TOVUZ-QAZAX-AGSTAFA"
        rayonlar["107"]="QAZAX"
        rayonlar["108"]="AGSTAFA"
        rayonlar["109"]="BALAKEN"
        rayonlar["110"]="ZAQATALA"
        rayonlar["111"]="ZAQATALA-BALAKEN"
        rayonlar["112"]="QAX"
        rayonlar["113"]="SEKI SEHER"
        rayonlar["114"]="SEKI KEND"
        rayonlar["115"]="SEKI KEND"
        rayonlar["116"]="QEBELE"
        rayonlar["117"]="OGUZ-QEBELE"
        rayonlar["118"]="AGDAM SEHER"
        rayonlar["119"]="AGDAM KEND"
        rayonlar["120"]="CEBRAYIL-QUBADLI"
        rayonlar["121"]="LACIN"
        rayonlar["122"]="XANKENDI"
        rayonlar["123"]="KELBECER"
        rayonlar["124"]="SUSA-AGDAM-XOCALI-XOCAVEND"
        rayonlar["125"]="ZENGILAN-QUBADLI"
        $scope.rayonlar = rayonlar;


        $scope.ad = '';
        $scope.soyad = '';
        $scope.dogum = '';
        $scope.dogumMin = '';
        $scope.dogumMax = '';
        $scope.ata = '';
        $scope.unvan = '';
        $scope.hamsi = '';
        $scope.rayon = '';
        $scope.ans = {d:[]};
        $scope.ans = {d:[]};
        $scope.ar = [];
        $scope.loading = false;

        $scope.login = function () {
            $scope.loading = true;

            var data = {ad:$scope.ad.toLowerCase(),soyad:$scope.soyad.toLowerCase(),te:$scope.dogum.toLowerCase(),ata:$scope.ata.toLowerCase()
                ,adres:$scope.unvan.toLowerCase(),hamsi:$scope.hamsi.toLowerCase(),rayon:$scope.rayon.toLowerCase(), dogumMin:$scope.dogumMin,
                dogumMax:$scope.dogumMax};
            for(let x in data) {
                if(data[x].length == 0) {
                    delete data[x];
                }
            }
            console.log(data);
            $http.get("/qu", {params:data}).then(
                function(res){
                    $scope.loading = false;
                    console.log(res);
                    $scope.ans = res.data;
                    $scope.ar = res.data.d;


                },
                function(response){
                    // failure callback

                }
            );
        }
    } )
</script>


<!------ Include the above in your HEAD tag ---------->
<div class="container" style="padding-top: 54px;">

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 70px;" id="basic-addon1" >Ad</span>
        </div>
        <input type="text" class="form-control"  aria-label="Username" aria-describedby="basic-addon1" ng-model="ad">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 70px;" id="basic-addon1">Soyad</span>
        </div>
        <input type="text" class="form-control"  aria-label="Username" aria-describedby="basic-addon1"ng-model="soyad">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 70px;" id="basic-addon1">Dogum</span>
        </div>
        <input type="text" class="form-control"  aria-label="Dogum" aria-describedby="basic-addon1"ng-model="dogum">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 105px;" id="basic-addon1">Dogum Min</span>
        </div>
        <input type="text" class="form-control"  aria-label="Dogum Min" aria-describedby="basic-addon1"ng-model="dogumMin">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 105px;" id="basic-addon1">Dogum Max</span>
        </div>
        <input type="text" class="form-control"  aria-label="Dogum Max" aria-describedby="basic-addon1"ng-model="dogumMax">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 70px;" id="basic-addon1">Ata</span>
        </div>
        <input type="text" class="form-control"  aria-label="Username" aria-describedby="basic-addon1"ng-model="ata">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text"style="width: 70px;" id="basic-addon1">Rayon</span>
        </div>
        <input type="text" class="form-control"  aria-label="Username" aria-describedby="basic-addon1"ng-model="rayon">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend" >
            <span class="input-group-text" style="width: 70px;"id="basic-addon1">Unvan</span>
        </div>
        <input type="text" class="form-control"  aria-label="Username" aria-describedby="basic-addon1"ng-model="unvan">
    </div>

    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text" style="width: 70px;"id="basic-addon1">Hamsi</span>
        </div>
        <input type="text" class="form-control"  aria-label="Username" aria-describedby="basic-addon1"ng-model="hamsi">
    </div>
    <div class="row">
        <button type="button" class="btn btn-success " style="margin-left: 44%;width: 100px;" ng-click="login();">Axtar</button>
    </div>

    <div class="spinner-border" ng-show="loading" style="width: 3rem; height: 3rem; position: absolute; left: 10%; top: 10%;" role="status">
        <span class="sr-only">Loading...</span>
    </div>

    <table class="table table-striped table-bordered" style="height: 300px; overflow-y: auto;">
        <thead>
        <td>Ad</td>
        <td>Soyad</td>
        <td>Dogum</td>
        <td>Ata</td>
        <td>Rayon</td>
        <td>Unvan</td>
        </thead>
        <tbody>
        <tr ng-repeat="x in ar">
            <td>{{x.ad}}</td>
            <td>{{x.soyad}}</td>
            <td>{{x.te}}</td>
            <td>{{x.ata}}</td>
            <td>{{x.rayon}}</td>
            <td>{{x.adres}}</td>
        </tr>
        </tbody>
    </table>
</div>





<script>
    $(function() {

        $('#login-form-link').click(function(e) {
            $("#login-form").delay(100).fadeIn(100);
            $("#register-form").fadeOut(100);
            $('#register-form-link').removeClass('active');
            $(this).addClass('active');
            e.preventDefault();
        });
        $('#register-form-link').click(function(e) {
            $("#register-form").delay(100).fadeIn(100);
            $("#login-form").fadeOut(100);
            $('#login-form-link').removeClass('active');
            $(this).addClass('active');
            e.preventDefault();
        });

        $('#login-form').submit(function (evt) {
            evt.preventDefault();
            //window.history.back();
        });
        $('#register-form').submit(function (evt) {
            evt.preventDefault();
            //window.history.back();
        });

    });

</script>
</body>
</html>